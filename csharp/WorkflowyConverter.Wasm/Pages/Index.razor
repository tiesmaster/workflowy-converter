@page "/"

<PageTitle>Workflowy Converter</PageTitle>

@if (_text is null)
{
    <InputFile id="fileInput" OnChange="UploadFilesAsync" hidden />

    <MudButton HtmlTag="label"
           Variant="Variant.Filled"
           Color="Color.Primary"
           StartIcon="@Icons.Filled.CloudUpload"
           for="fileInput">
        Upload Files
    </MudButton>
}
else
{
    <p>@_text</p>
}

@code
{
    private string? _text;

    private async Task UploadFilesAsync(InputFileChangeEventArgs e)
    {
        var stream = e.File.OpenReadStream();

        var reader = new StreamReader(stream);
        _text = await reader.ReadToEndAsync();
    }
}